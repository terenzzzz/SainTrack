import{_ as b,S as K,l as R,u as Y,a as z}from"../../assets/index-b06ef260.js";import{r as p,a2 as X,o as g,c as w,a as e,R as a,u as C,P as A,d as x,q as W,f as D,al as f,I as S,J as m,a5 as L,M as P,W as H,O as E,t as J,U as Q}from"../@vue/@vue.f1ada3fe.js";import{a as G,u as Z}from"../vue-router/vue-router.76444184.js";import{d as ee}from"../lodash-es/lodash-es.741e4bc3.js";import"../element-plus/element-plus.582edd78.js";import"../@element-plus/@element-plus.41fc00c7.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.b359c3c4.js";import"../clipboard/clipboard.45ef5b9b.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.1ea5e47f.js";import"../pinia/pinia.680ff890.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.4a70c6fc.js";import"../@codemirror/@codemirror.105aab08.js";import"../@lezer/@lezer.53ecb665.js";import"../crelt/crelt.7bb88e1d.js";import"../@marijn/@marijn.45184d7f.js";import"../style-mod/style-mod.ab9c37a6.js";import"../w3c-keyname/w3c-keyname.9fb136d3.js";import"../path-to-regexp/path-to-regexp.6c7b4327.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.cb69e156.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.187cabd5.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../@vueuse/@vueuse.a490c7b0.js";import"../nprogress/nprogress.6ec30c0f.js";/* empty css                                 */import"../xe-utils/xe-utils.78945774.js";import"../vxe-table/vxe-table.5c5e0e8d.js";import"../vue3-lottie/vue3-lottie.108a33f7.js";import"../lottie-web/lottie-web.88e5cf38.js";const U=()=>{const s=navigator.userAgent.toLowerCase(),n=s.match(/iphone os/i)=="iphone os",l=s.match(/midp/i)=="midp",i=s.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",r=s.match(/ucweb/i)=="ucweb",u=s.match(/android/i)=="android",o=s.match(/windows ce/i)=="windows ce",I=s.match(/windows mobile/i)=="windows mobile";return!!(n||l||i||r||u||o||I)};const te={class:"copyright-container"},oe=x({name:"YuCopyright"}),se=Object.assign(oe,{setup(s){const n=p(2021);return X(()=>{n.value=new Date().getFullYear()}),(l,i)=>(g(),w("div",te,[i[1]||(i[1]=e("div",{class:"title syRegular"},[e("div",{class:"copyright-items"},"帮助"),e("div",{class:"copyright-items"},"隐私"),e("div",{class:"copyright-items"},"条款")],-1)),e("span",null,[i[0]||(i[0]=e("i",null,"copyright",-1)),a(C(K),{"icon-class":"copyright",class:"icon"}),e("i",null,A(n.value)+" 沪ICP备XXXXXXXX号",1)]),i[2]||(i[2]=e("span",{style:{"margin-top":"5px"}}," XXXXXXXXX ",-1))]))}}),k=b(se,[["__scopeId","data-v-30576f2b"]]),ae=Object.assign(k,{install(s){s.component(k.name,k)}});const ne={class:"logo-contanier"},ie=["src"],re=x({name:"Logo"}),ce=Object.assign(re,{setup(s){return(n,l)=>(g(),w("div",ne,[e("img",{src:C(R),alt:""},null,8,ie)]))}}),le=b(ce,[["__scopeId","data-v-c9dcfa25"]]);const de={style:{position:"relative"}},pe={class:"code-inp"},ue={class:"code"},me=["src"],_e=x({name:"LoginPwd"}),fe=Object.assign(_e,{setup(s){const n=G(),l=Z(),i=Y(),r=p(),u=["blur","change"],o=W({country:"86",captcha:"",account:"admin",password:"admin9527"}),I={account:[{required:!0,message:"Please enter your email",trigger:u}],password:[{required:!0,message:"Please enter your password",trigger:u}],captcha:[{required:!0,message:"Please enter captcha",trigger:u}]},O=p(""),y=p(!1),T=p(""),M=p(""),v=p(!1),q=D(()=>{const{captcha:c,account:t,password:d}=o;return y.value?!c||!t||!d:!t||!d});X(()=>{N()});function N(){const c=l.query;O.value=c.bindToken||""}async function V(){}async function j(){v.value=!0;try{const c="token";i.SET_TOKEN(c),n.push("/")}catch{}finally{v.value=!1}}function $(){v.value=!0,r.value.validate(async c=>{if(c)try{const t={username:o.account,password:o.password};y.value&&(t.captchaId=M.value,t.captchaValue=o.captcha);const{data:d}=await z({params:t}),{token:_}=d;i.SET_TOKEN(_),n.push("/")}catch{}finally{v.value=!1,y.value&&await V()}})}return(c,t)=>{const d=f("el-input"),_=f("el-form-item"),B=f("el-button"),F=f("el-form");return g(),S(F,{ref_key:"ruleForm",ref:r,model:o,rules:I,"label-width":"0","status-icon":"",class:"login-ruleForm"},{default:m(()=>[a(_,{prop:"account"},{default:m(()=>[a(d,{ref:"account",modelValue:o.account,"onUpdate:modelValue":t[0]||(t[0]=h=>o.account=h),class:"h40",name:"account",placeholder:"Email",clearable:!0,tabindex:"1",type:"text",maxlength:"100",autocomplete:"off"},null,8,["modelValue"])]),_:1}),a(_,{prop:"password"},{default:m(()=>[a(d,{ref:"password",modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=h=>o.password=h),class:"h40","show-password":"",name:"password",placeholder:"Password",clearable:!0,tabindex:"2",maxlength:"16",type:"password",autocomplete:"off",onKeyup:L($,["enter"])},null,8,["modelValue"])]),_:1}),y.value?(g(),S(_,{key:0,prop:"captcha"},{default:m(()=>[e("div",de,[e("div",pe,[a(d,{ref:"captcha",modelValue:o.captcha,"onUpdate:modelValue":t[2]||(t[2]=h=>o.captcha=h),class:"h40",type:"text",name:"captcha",placeholder:"请输入校验码",clearable:!0,tabindex:"3",maxlength:"6",autocomplete:"off",onKeyup:L($,["enter"])},null,8,["modelValue"])]),e("div",ue,[e("img",{src:T.value,alt:"",onClick:V},null,8,me)])])]),_:1})):P("",!0),a(_,{style:{"margin-bottom":"0"}},{default:m(()=>[a(B,{class:"h40",loading:v.value,disabled:q.value,type:"primary",style:{width:"100%"},onClick:H(j,["prevent"])},{default:m(()=>[...t[3]||(t[3]=[E(" Log in ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"])}}}),ge=b(fe,[["__scopeId","data-v-7ac12c9a"]]);const ve={class:"section-container login-container un-select"},he={class:"body fix-width"},ye={class:"top"},we={class:"main"},be={key:0,class:"foot-link"},xe=x({name:"Login"}),Ie=Object.assign(xe,{setup(s){const n=p(!0),l=ee(()=>{n.value=!U()},50);return X(()=>{n.value=!U()}),J(()=>{window.addEventListener("resize",l)}),Q(()=>{window.removeEventListener("resize",l)}),(i,r)=>{const u=f("el-divider"),o=f("router-link");return g(),w("div",ve,[e("div",he,[e("div",ye,[a(le,{class:"logos"}),r[0]||(r[0]=e("div",{class:"top-title"},"Sain Track",-1))]),e("div",we,[a(ge),r[2]||(r[2]=e("div",{class:"foot-link clearFix"},null,-1)),n.value?(g(),w("div",be,[a(u,{"content-position":"center"}),a(o,{to:{name:"SignUp"}},{default:m(()=>[...r[1]||(r[1]=[E("Sign Up",-1)])]),_:1})])):P("",!0)])]),a(C(ae))])}}}),rt=b(Ie,[["__scopeId","data-v-885eb56f"]]);export{rt as default};
