import{v as K,_ as x,u as O,b as R}from"../../assets/index-bf56425c.js";import{a as z}from"../vue-router/vue-router.76444184.js";import{o as c,c as d,a as t,C as A,E as v,d as b,r as _,q as D,f as a,K as H,R as r,J as g,u,P as y,al as m,ar as P}from"../@vue/@vue.f1ada3fe.js";import"../element-plus/element-plus.582edd78.js";import"../lodash-es/lodash-es.741e4bc3.js";import"../@element-plus/@element-plus.41fc00c7.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.b359c3c4.js";import"../clipboard/clipboard.45ef5b9b.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.1ea5e47f.js";import"../pinia/pinia.680ff890.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.4a70c6fc.js";import"../@codemirror/@codemirror.105aab08.js";import"../@lezer/@lezer.53ecb665.js";import"../crelt/crelt.7bb88e1d.js";import"../@marijn/@marijn.45184d7f.js";import"../style-mod/style-mod.ab9c37a6.js";import"../w3c-keyname/w3c-keyname.9fb136d3.js";import"../path-to-regexp/path-to-regexp.6c7b4327.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.cb69e156.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.187cabd5.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../@vueuse/@vueuse.a490c7b0.js";import"../nprogress/nprogress.6ec30c0f.js";/* empty css                                 */import"../xe-utils/xe-utils.78945774.js";import"../vxe-table/vxe-table.5c5e0e8d.js";import"../vue3-lottie/vue3-lottie.108a33f7.js";import"../lottie-web/lottie-web.88e5cf38.js";function j(i){const o=i+"";if(!K(o))return"";const n=/^(\d{3})\d{4}(\d{4})$/;return o.replace(n,"$1****$2")}const B={class:"pan-info"},N={class:"pan-info-roles-container"},q=b({name:"YuThumb"}),E=Object.assign(q,{props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}},setup(i){const o=i;return(n,e)=>(c(),d("div",{style:v({zIndex:o.zIndex,height:o.height,width:o.width}),class:"pan-item"},[t("div",B,[t("div",N,[A(n.$slots,"default",{},void 0,!0)])]),t("div",{style:v({backgroundImage:`url(${o.image})`}),class:"pan-thumb"},null,4)],4))}}),h=x(E,[["__scopeId","data-v-abea630d"]]),U=Object.assign(h,{install(i){i.component(h.name,h)}}),V={class:"account-container flex-row flex-level-center"},Y={class:"center-box"},J={class:"card-section"},L={class:"login-title flex-row flex-between flex-vertical-center"},M={style:{cursor:"pointer"}},W={class:"avatar-box flex-column flex-level-center flex-vertical-center"},F={class:"user-name ellipsis"},G={class:"phone"},Q={key:0},X={key:1},Z=b({name:"UserCenter"}),ee=Object.assign(Z,{setup(i){const o=z(),n=_(!1),e=O(),w={0:"未知",1:"密码登录",2:"验证码登录",3:"第三方登录"},p=D({avatar:a(()=>e.avatar),name:a(()=>e.name),phone:a(()=>e.phone),email:a(()=>e.email),identity:a(()=>e.identity),isPerfect:a(()=>e.avatar&&e.name&&e.phone&&e.email&&e.identity)}),k=_([{key:"method",title:"登录方式",dataKey:"method",align:"center",width:106,cellRenderer:({rowData:l})=>r("div",null,[w[l.method]])},{key:"deviceType",title:"设备名称",dataKey:"deviceType",align:"center",width:231},{key:"deviceOs",title:"系统",dataKey:"deviceOs",align:"center",width:110},{key:"loginAddr",title:"登录地点",dataKey:"loginAddr",align:"center",width:231},{key:"loginTime",title:"最后登录时间",dataKey:"loginTime",align:"center",width:231}]),f=_([]);return(async()=>{n.value=!0;try{const{code:l,data:s}=await R();l==200&&(f.value=s)}catch{}finally{n.value=!1}})(),(l,s)=>{const $=m("el-tooltip"),S=m("ArrowRight"),T=m("el-icon"),C=m("el-table-v2"),I=P("loading");return c(),d("div",V,[t("div",Y,[H((c(),d("div",J,[t("div",L,[r($,{class:"box-item",effect:"dark",content:"此处模拟了10W条数据",placement:"top-start"},{default:g(()=>[...s[1]||(s[1]=[t("span",{class:"title"},"登录历史",-1)])]),_:1}),t("p",M,[t("span",{class:"right-tips",onClick:s[0]||(s[0]=oe=>u(o).push("/user/history"))},"查看更多"),r(T,{color:"#1890ff"},{default:g(()=>[r(S)]),_:1})])]),r(C,{class:"login-history-table",columns:k.value,data:f.value,width:910,height:210,fixed:!1},null,8,["columns","data"])])),[[I,n.value]])]),t("div",W,[r(u(U),{width:"150px",height:"150px",image:p.avatar},null,8,["image"]),t("span",F," Hi,"+y(p.name||"小灰灰"),1),t("span",G,[p.phone?(c(),d("span",Q,y(u(j)(p.phone)),1)):(c(),d("span",X," 你还未绑定手机 "))])])])}}});const qe=x(ee,[["__scopeId","data-v-7ef2f833"]]);export{qe as default};
