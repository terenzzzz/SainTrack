import{r as F,q as S,c as C,R as t,J as o,al as d,o as _,a as r,Q as x,a4 as j,O as n,u as A,D as L,P as v,W as I,I as O}from"../@vue/@vue.f1ada3fe.js";import{E as W}from"../md-editor-v3/md-editor-v3.c6ef256f.js";import{_ as $}from"../../assets/index-b06ef260.js";import"../@vavt/@vavt.eacd11c2.js";import"../@codemirror/@codemirror.105aab08.js";import"../@lezer/@lezer.53ecb665.js";import"../crelt/crelt.7bb88e1d.js";import"../@marijn/@marijn.45184d7f.js";import"../style-mod/style-mod.ab9c37a6.js";import"../w3c-keyname/w3c-keyname.9fb136d3.js";import"../medium-zoom/medium-zoom.9a5daf0e.js";import"../markdown-it/markdown-it.de2b7434.js";import"../mdurl/mdurl.d7fdfec3.js";import"../uc.micro/uc.micro.2ff9f57e.js";import"../linkify-it/linkify-it.c931940f.js";import"../punycode.js/punycode.js.c41da3d1.js";import"../markdown-it-image-figures/markdown-it-image-figures.6b4113de.js";import"../markdown-it-sub/markdown-it-sub.7f11bbf3.js";import"../markdown-it-sup/markdown-it-sup.e798c984.js";import"../lucide-vue-next/lucide-vue-next.8f072a41.js";import"../element-plus/element-plus.582edd78.js";import"../lodash-es/lodash-es.741e4bc3.js";import"../@element-plus/@element-plus.41fc00c7.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.b359c3c4.js";import"../clipboard/clipboard.45ef5b9b.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.1ea5e47f.js";import"../pinia/pinia.680ff890.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.4a70c6fc.js";import"../vue-router/vue-router.76444184.js";import"../path-to-regexp/path-to-regexp.6c7b4327.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.cb69e156.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.187cabd5.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../@vueuse/@vueuse.a490c7b0.js";import"../nprogress/nprogress.6ec30c0f.js";/* empty css                                 */import"../xe-utils/xe-utils.78945774.js";import"../vxe-table/vxe-table.5c5e0e8d.js";import"../vue3-lottie/vue3-lottie.108a33f7.js";import"../lottie-web/lottie-web.88e5cf38.js";const q={class:"page-container"},G={class:"side-bar sticky"},H={class:"d-flex flex-column setting-list"},J=["onClick"],Q={class:"title d-flex justify-between align-center"},X={class:"info"},Y={style:{display:"flex","align-items":"center",gap:"8px",width:"100%"}},K={style:{display:"flex","justify-content":"center",width:"100%"}},Z={class:"variable-buttons"},ee={class:"d-flex justify-end"},b=`
<br>
<br>


![](https://www.ororowear.com/cdn/shop/files/newlogo_263.png?v=1716274450&width=150)

Hi {{customer_name}},

<u><u>Great news! Your order has been processed and is now on its way to you.</u></u>

<br>

Order Details:

- Order Number: {{order_number}}
- Tracking Number: {{tracking_number}}
- Carrier: {{carrier}}

<br>

We appreciate your patience as they make their way to you.

Thank you for choosing OROROWEAR.

Items Included:
{{product_list}}
<br>

[Track My Order](http://192.168.192.167:9527/#/tracking/123456789)

---

<br>
If you have any questions, reply to this email or contact us at

{{customer_service_email}}`,te={__name:"index",setup(le){const y=F(b),g=S([{title:"Picked Up 通知客人",enabled:!0,store:"ororo",receiver:"customer",rule:"Picked Up",lastChange:"24/01/15",conditions:[{key:Date.now()+Math.random(),statusField:"status",booleanField:"",shipmentStatus:""}],subject:"Picked Up 客户通知",templateContent:b,delay:5},{title:"Exception 通知管理员",enabled:!0,store:"ororo",receiver:"admin",rule:"Shipped",lastChange:"24/01/20",conditions:[{key:Date.now()+Math.random(),statusField:"status",booleanField:"",shipmentStatus:""}],subject:"Shipped 管理员通知",templateContent:b,delay:10},{title:"Cancelled 通知管理员",enabled:!1,store:"ororo",receiver:"admin",rule:"Shipped",lastChange:"24/01/20",conditions:[{key:Date.now()+Math.random(),statusField:"status",booleanField:"",shipmentStatus:""}],subject:"Shipped 管理员通知",templateContent:b,delay:10},{title:"Delivered 通知客户",enabled:!0,store:"ororo",receiver:"customer",rule:"Delivered",lastChange:"24/01/25",conditions:[{key:Date.now()+Math.random(),statusField:"status",booleanField:"",shipmentStatus:""}],subject:"Delivered 客户通知",templateContent:b,delay:0}]),M=S([{label:"customer_name",value:"{{ customer_name }}"},{label:"order_number",value:"{{ order_number }}"},{label:"carrier",value:"{{ carrier }}"},{label:"product_list",value:"{{ product_list }}"},{label:"customer_service_email",value:"{{ customer_service_email }}"}]),k=F(0),a=S({store:"ororo",receiver:"customer",conditions:[{key:Date.now()+Math.random(),statusField:"status",booleanField:"",shipmentStatus:""}],time_from:"",time_to:"",delivery:!1,type:[],resource:"",desc:"",subject:"",delay:0,templateContent:b});function D(s){k.value=s;const e=g[s];Object.assign(a,{store:e.store,receiver:e.receiver,time_from:e.time_from||"",time_to:e.time_to||"",conditions:e.conditions?e.conditions.map(w=>({...w})):[{key:Date.now()+Math.random(),value:""}],delivery:e.delivery||!1,type:e.type||[],resource:e.resource||"",desc:e.desc||"",subject:e.subject||"",delay:e.delay||0}),y.value=e.templateContent||""}const E=s=>{y.value+=s};function N(){const s={title:"新规则",enabled:!0,store:"ororo",receiver:"customer",rule:"New Rule",lastChange:new Date().toISOString().slice(2,10),conditions:[{key:Date.now()+Math.random(),value:""}],subject:"",templateContent:b,delay:0};g.push(s),D(g.length-1)}const T=()=>{const s=g[k.value];Object.assign(s,{store:a.store,receiver:a.receiver,time_from:a.time_from,time_to:a.time_to,conditions:a.conditions,delivery:a.delivery,type:a.type,resource:a.resource,desc:a.desc,subject:a.subject,templateContent:y.value,delay:a.delay}),console.log("submit!",s)};function P(){a.conditions.push({key:Date.now()+Math.random(),value:""})}function B(s){a.conditions.splice(s,1)}return(s,e)=>{const w=d("el-switch"),c=d("el-col"),i=d("el-option"),V=d("el-select"),m=d("el-form-item"),z=d("el-time-picker"),U=d("el-input"),h=d("el-row"),f=d("el-button"),R=d("el-form");return _(),C("div",q,[t(h,{gutter:24},{default:o(()=>[t(c,{md:24,lg:7,class:"side-bar-wrapper"},{default:o(()=>[r("div",G,[r("div",{class:"d-flex justify-between align-center"},[e[7]||(e[7]=r("h3",{class:"h3"},"Setting List",-1)),r("button",{class:"add-btn",onClick:N},"Add New Rule")]),r("ul",H,[(_(!0),C(x,null,j(g,(l,p)=>(_(),C("li",{key:p,class:L(["rule",{active:k.value===p}]),onClick:u=>D(p)},[r("div",Q,[n(v(l.title)+" ",1),t(w,{modelValue:l.enabled,"onUpdate:modelValue":u=>l.enabled=u,onClick:e[0]||(e[0]=I(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),r("div",X,[r("p",null,[e[8]||(e[8]=n(" Store: ",-1)),r("small",null,v(l.store),1)]),r("p",null,[e[9]||(e[9]=n(" Receiver: ",-1)),r("small",null,v(l.receiver),1)]),r("p",null,[e[10]||(e[10]=n(" Rule: ",-1)),r("small",null,v(l.rule),1)]),r("p",null,[e[11]||(e[11]=n(" Last Change: ",-1)),r("small",null,v(l.lastChange),1)])])],10,J))),128))])])]),_:1}),t(c,{md:24,lg:17,class:"rule-setting"},{default:o(()=>[t(h,null,{default:o(()=>[t(c,{span:24,class:"setting-form"},{default:o(()=>[e[15]||(e[15]=r("h3",{class:"h3 text-center"},"Rule Setting",-1)),t(R,{model:a,"label-width":"auto"},{default:o(()=>[t(m,{label:"Store"},{default:o(()=>[t(V,{modelValue:a.store,"onUpdate:modelValue":e[1]||(e[1]=l=>a.store=l),placeholder:"please select your zone"},{default:o(()=>[t(i,{label:"Ororo",value:"ororo"})]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"Receiver"},{default:o(()=>[t(V,{modelValue:a.receiver,"onUpdate:modelValue":e[2]||(e[2]=l=>a.receiver=l),placeholder:"please select your zone"},{default:o(()=>[t(i,{label:"Customer",value:"customer"})]),_:1},8,["modelValue"])]),_:1}),t(h,{gutter:20},{default:o(()=>[t(c,{md:24,lg:13},{default:o(()=>[t(m,{label:"Shipped Between"},{default:o(()=>[t(z,{modelValue:a.time_from,"onUpdate:modelValue":e[3]||(e[3]=l=>a.time_from=l),"is-range":"","range-separator":"To","start-placeholder":"Start time","end-placeholder":"End time"},null,8,["modelValue"])]),_:1})]),_:1}),t(c,{md:24,lg:11},{default:o(()=>[t(m,{label:"Delay"},{default:o(()=>[t(U,{modelValue:a.delay,"onUpdate:modelValue":e[4]||(e[4]=l=>a.delay=l),style:{width:"100px"},placeholder:"0"},null,8,["modelValue"]),e[12]||(e[12]=r("span",{style:{"margin-left":"8px"}},"minute",-1))]),_:1})]),_:1})]),_:1}),(_(!0),C(x,null,j(a.conditions,(l,p)=>(_(),O(m,{class:"condition-field",key:l.key,label:"Condition "+(p+1),prop:"conditions."+p},{default:o(()=>[r("div",Y,[t(V,{modelValue:l.statusField,"onUpdate:modelValue":u=>l.statusField=u,style:{flex:"1"},placeholder:"Please Select"},{default:o(()=>[t(i,{label:"Shipment Status",value:"status"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(V,{modelValue:l.booleanField,"onUpdate:modelValue":u=>l.booleanField=u,style:{flex:"1"},placeholder:"Please Select"},{default:o(()=>[t(i,{label:"Is",value:"yes"}),t(i,{label:"Not",value:"no"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(V,{modelValue:l.shipmentStatus,"onUpdate:modelValue":u=>l.shipmentStatus=u,style:{flex:"1"},placeholder:"Please Select"},{default:o(()=>[t(i,{label:"InfoReceived",value:"InfoReceived"}),t(i,{label:"InTransit",value:"InTransit"}),t(i,{label:"Delivered",value:"Delivered"}),t(i,{label:"Exception",value:"Exception"}),t(i,{label:"Cancelled",value:"Cancelled"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(f,{type:"danger",onClick:I(u=>B(p),["prevent"])},{default:o(()=>[...e[13]||(e[13]=[n(" X ",-1)])]),_:2},1032,["onClick"])])]),_:2},1032,["label","prop"]))),128)),t(m,null,{default:o(()=>[r("div",K,[t(f,{type:"primary",onClick:P},{default:o(()=>[...e[14]||(e[14]=[n("Add Condition",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),_:1}),t(c,{span:24,class:"setting-template"},{default:o(()=>[e[16]||(e[16]=r("h3",{class:"h3 text-center"},"Email Template Setting",-1)),t(R,{model:a,"label-width":"auto"},{default:o(()=>[t(m,{label:"Subject"},{default:o(()=>[t(U,{modelValue:a.subject,"onUpdate:modelValue":e[5]||(e[5]=l=>a.subject=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(m,{label:"Variables"},{default:o(()=>[r("div",Z,[(_(!0),C(x,null,j(M,l=>(_(),O(f,{key:l.label,plain:"",size:"mini",onClick:p=>E(l.value)},{default:o(()=>[n(v(l.label),1)]),_:2},1032,["onClick"]))),128))])]),_:1}),t(A(W),{modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=l=>y.value=l)},null,8,["modelValue"])]),_:1}),t(c,{class:"action-group"},{default:o(()=>[r("div",ee,[t(f,null,{default:o(()=>[...e[17]||(e[17]=[n("Cancel",-1)])]),_:1}),t(f,{type:"danger"},{default:o(()=>[...e[18]||(e[18]=[n("Delete",-1)])]),_:1}),t(f,{type:"primary",onClick:T},{default:o(()=>[...e[19]||(e[19]=[n("Create",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])}}},Ke=$(te,[["__scopeId","data-v-283a1011"]]);export{Ke as default};
